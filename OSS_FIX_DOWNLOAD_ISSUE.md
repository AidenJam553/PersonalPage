# 修复 OSS 网站下载 HTML 文件问题

如果你访问网站时下载 HTML 文件而不是显示网页，请按照以下步骤排查：

## 🔍 问题排查

### 问题 1：静态网站托管可能没有真正"开启"

从你的截图看，配置值都正确，但需要确认是否真正"开启"了这个功能。

**解决步骤：**

1. 在 OSS 控制台的"静态页面"页面，查看页面顶部或右侧是否有：
   - **"开启"按钮**
   - **"启用静态网站托管"的开关**
   - **状态显示"已开启"或"已启用"**

2. 如果看到"设置"按钮或"编辑"按钮，点击进入：

   - 查找页面上的**主开关**（通常在页面顶部）
   - 确认开关是**开启**状态（绿色/蓝色）
   - 如果关闭，请**开启**它
   - 然后点击**保存**或**确定**

3. 如果已经显示"已开启"，继续下一步。

### 问题 2：使用了错误的访问地址 ⚠️ **最常见问题**

这是最常见的问题！OSS 有两种不同的访问地址：

#### ❌ **错误方式（会下载文件）：**

```
https://bohan-portfolio.oss-cn-beijing.aliyuncs.com
https://bohan-portfolio.oss-cn-beijing.aliyuncs.com/index.html
```

这是 **OSS 对象访问地址**，访问文件会触发下载。

#### ✅ **正确方式（显示网页）：**

```
http://bohan-portfolio.oss-cn-beijing.aliyuncs.com
```

注意：
- 使用 **HTTP**（不是 HTTPS）
- 不要加 `/index.html`
- 直接访问根域名即可

### 如何找到正确的静态网站托管地址？

1. **在 OSS 控制台查找：**
   - 进入你的 Bucket
   - 点击 **静态页面**（你已经在这个页面）
   - 查看页面右侧或底部是否有显示：
     - **"静态网站访问地址"**
     - **"网站端点"**
     - **"Website Endpoint"**

2. **如果没有显示，地址格式通常是：**
   ```
   http://[bucket-name].oss-[region].aliyuncs.com
   ```
   
   对于你的情况：
   ```
   http://bohan-portfolio.oss-cn-beijing.aliyuncs.com
   ```

3. **如果看到两个地址：**
   - 一个是 **"OSS 访问域名"**（对象访问，会下载）
   - 一个是 **"静态网站托管访问地址"**（网页访问，会显示）
   - **使用后者！**

## 📋 完整检查清单

请逐一检查以下项目：

- [ ] **1. Bucket 权限是否为"公共读"**
  - 位置：权限控制 → 读写权限
  - 应该设置为：**公共读**
  
- [ ] **2. 静态网站托管是否已开启**
  - 位置：数据管理 → 静态页面
  - 应该有明显的"已开启"状态或绿色开关
  
- [ ] **3. 默认首页设置为 `index.html`**
  - ✅ 你已经设置正确
  
- [ ] **4. 默认404页设置为 `index.html`**
  - ✅ 你已经设置正确
  
- [ ] **5. 使用正确的访问地址**
  - ✅ 使用 `http://bohan-portfolio.oss-cn-beijing.aliyuncs.com`（HTTP，不是 HTTPS）
  - ❌ 不要使用 `https://...` 或 `.../index.html`

## 🚀 快速修复步骤

### 立即尝试：

1. **确保静态网站托管已开启**
   - 在"静态页面"页面，找到"开启"按钮或开关，确保它是开启状态

2. **使用正确的地址访问**
   ```
   http://bohan-portfolio.oss-cn-beijing.aliyuncs.com
   ```
   - 注意是 `http://` 不是 `https://`
   - 不要添加 `/index.html`

3. **清除浏览器缓存**
   - 按 `Ctrl+F5` 强制刷新
   - 或打开隐私/无痕模式访问

### 如果还是不行：

4. **检查 Bucket 中是否有 `index.html` 文件**
   - 进入 Bucket → 文件管理
   - 确认根目录下有 `index.html` 文件
   - 如果没有，重新部署一次

5. **等待几分钟后重试**
   - OSS 配置可能需要一点时间生效

## 🔐 HTTPS 访问（可选）

如果你需要使用 HTTPS：

1. **绑定自定义域名**
   - 进入 Bucket → Bucket 配置 → 域名管理
   - 绑定你的域名（如 `www.example.com`）
   - 配置 DNS 解析
   
2. **配置 SSL 证书**
   - 在域名管理页面配置 HTTPS 证书
   - 或使用阿里云 SSL 证书服务

3. **通过自定义域名访问**
   ```
   https://www.example.com
   ```

## ❓ 常见问题

### Q: 为什么静态网站托管只能用 HTTP？

A: OSS 的静态网站托管默认只支持 HTTP。如果需要 HTTPS：
- 绑定自定义域名并配置 SSL 证书
- 或使用阿里云 CDN（会自动支持 HTTPS）

### Q: 我可以同时使用 HTTP 和 HTTPS 吗？

A: 可以。HTTP 通过 OSS 静态网站托管直接访问，HTTPS 通过自定义域名访问。

### Q: 配置后多久生效？

A: 通常立即生效，最多 1-2 分钟。如果超过 5 分钟还没生效，请检查配置是否正确。

## 🎯 验证成功标志

如果配置正确，你应该看到：
- ✅ 浏览器地址栏显示你的网站内容（而不是下载文件）
- ✅ 可以正常浏览网站页面
- ✅ 网站样式和交互都正常

---

**提示：** 最可能的问题是访问地址错误。确保使用 `http://` 开头的地址，而不是 `https://`！


